const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Main-CUbkIH-T.js","assets/react-CeYxiRmC.js","assets/classnames-BK5ccKcQ.js","assets/react-router-dom-o4KdQ8dK.js","assets/react-dom-Bwn-WS6j.js","assets/scheduler-CzFDRTuY.js","assets/react-router-BQwVR8Zd.js","assets/@remix-run-3jUiC8cZ.js","assets/auth-service-m5y2BoNV.js","assets/axios-9PTFF6AP.js","assets/notify-DA3BzPi_.js","assets/@ant-design-NQwz6VZX.js","assets/rc-util-DVEPga9-.js","assets/@babel-Bssi87AP.js","assets/@emotion-CW87jbl0.js","assets/stylis-D5iaQeiq.js","assets/resize-observer-polyfill-B1PUzC5B.js","assets/antd-CWlyDj0S.js","assets/rc-resize-observer-OqVzQPEu.js","assets/rc-motion-C3tnhy2U.js","assets/@rc-component-B7glsBvU.js","assets/rc-notification-BU1JQ1oB.js","assets/rc-overflow-BHdZLj7t.js","assets/rc-picker-UBE7xiBA.js","assets/dayjs-Cjk_ngT2.js","assets/rc-tabs-CxzWAOyN.js","assets/rc-dropdown-BO-tmEXF.js","assets/rc-menu-CN7ruIKX.js","assets/rc-select-C2-AJ45Z.js","assets/rc-virtual-list-2uybl3mp.js","assets/rc-field-form-RBvcZ110.js","assets/scroll-into-view-if-needed-DRvhZyyj.js","assets/compute-scroll-into-view-J484ERGr.js","assets/rc-dialog-DjLbSgI8.js","assets/rc-switch-gTEUW9ud.js","assets/rc-table-mlfxtKPe.js","assets/rc-tree-XLUh9fGJ.js","assets/rc-checkbox-DSSeAk8Y.js","assets/rc-pagination-BIRv3rAM.js","assets/throttle-debounce-CUWDS_la.js","assets/rc-input-BMc9GUi3.js","assets/rc-tooltip-Cl3xOnqL.js","assets/rc-textarea-GKK6NUoL.js","assets/copy-to-clipboard-iuHVwNMD.js","assets/toggle-selection-BHUZwh74.js","assets/@casl-D9HI8Hol.js","assets/@ucast-C1jhqbEt.js","assets/@reduxjs-Dg9g6cAv.js","assets/redux-DITMfSWq.js","assets/immer-DqxjFn0G.js","assets/redux-thunk-ClJT1hhx.js","assets/react-redux-BgQWloB6.js","assets/use-sync-external-store-Co5PKEhT.js","assets/login-B6QhkvXV.js","assets/index-Dpfwa3qk.js","assets/constants-C-fR6r-u.js","assets/useDebounce-BApLLqdd.js","assets/user-service-BRiLdQ7h.js","assets/create-B5byDrZY.js","assets/UserForm-DQuEUh31.js","assets/edit-BDHJPGQ1.js","assets/view-CCOn1_FB.js","assets/index-ChyjMcSp.js","assets/permission-IQAz0Y-q.js","assets/index-4kS9Z6Ga.js","assets/booking-service-DaxmFYMD.js","assets/events-Ba13Sv94.js","assets/index-BerN9U8c.js","assets/index-B8-LDGyk.js"])))=>i.map(i=>d[i]);
import{j as r,r as h,a as c}from"./react-CeYxiRmC.js";import{c as N}from"./react-dom-Bwn-WS6j.js";import{c as z,R as F}from"./react-router-dom-o4KdQ8dK.js";import{a as O,f as B,g as G}from"./react-router-BQwVR8Zd.js";import{R as P,B as A,C as H,T as J,A as L,a as q,S as W}from"./antd-CWlyDj0S.js";import{c as K}from"./@casl-D9HI8Hol.js";import{c as E,a as S,b as M}from"./@reduxjs-Dg9g6cAv.js";import{a as o}from"./axios-9PTFF6AP.js";import{P as Q}from"./react-redux-BgQWloB6.js";import"./classnames-BK5ccKcQ.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-3jUiC8cZ.js";import"./rc-util-DVEPga9-.js";import"./@babel-Bssi87AP.js";import"./@ant-design-NQwz6VZX.js";import"./@emotion-CW87jbl0.js";import"./stylis-D5iaQeiq.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./rc-resize-observer-OqVzQPEu.js";import"./rc-motion-C3tnhy2U.js";import"./@rc-component-B7glsBvU.js";import"./rc-notification-BU1JQ1oB.js";import"./rc-overflow-BHdZLj7t.js";import"./rc-picker-UBE7xiBA.js";import"./dayjs-Cjk_ngT2.js";import"./rc-tabs-CxzWAOyN.js";import"./rc-dropdown-BO-tmEXF.js";import"./rc-menu-CN7ruIKX.js";import"./rc-select-C2-AJ45Z.js";import"./rc-virtual-list-2uybl3mp.js";import"./rc-field-form-RBvcZ110.js";import"./scroll-into-view-if-needed-DRvhZyyj.js";import"./compute-scroll-into-view-J484ERGr.js";import"./rc-dialog-DjLbSgI8.js";import"./rc-switch-gTEUW9ud.js";import"./rc-table-mlfxtKPe.js";import"./rc-tree-XLUh9fGJ.js";import"./rc-checkbox-DSSeAk8Y.js";import"./rc-pagination-BIRv3rAM.js";import"./throttle-debounce-CUWDS_la.js";import"./rc-input-BMc9GUi3.js";import"./rc-tooltip-Cl3xOnqL.js";import"./rc-textarea-GKK6NUoL.js";import"./copy-to-clipboard-iuHVwNMD.js";import"./toggle-selection-BHUZwh74.js";import"./@ucast-C1jhqbEt.js";import"./redux-DITMfSWq.js";import"./immer-DqxjFn0G.js";import"./redux-thunk-ClJT1hhx.js";import"./use-sync-external-store-Co5PKEhT.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))g(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&g(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function g(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();const X="modulepreload",Y=function(e){return"/"+e},$={},d=function(t,s,g){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),u=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.allSettled(s.map(m=>{if(m=Y(m),m in $)return;$[m]=!0;const v=m.endsWith(".css"),D=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${D}`))return;const p=document.createElement("link");if(p.rel=v?"stylesheet":X,v||(p.as="script"),p.crossOrigin="",p.href=m,u&&p.setAttribute("nonce",u),document.head.appendChild(p),v)return new Promise((U,V)=>{p.addEventListener("load",U),p.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(i){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=i,window.dispatchEvent(u),!u.defaultPrevented)throw i}return n.then(i=>{for(const u of i||[])u.status==="rejected"&&a(u.reason);return t().catch(a)})},k={home:"/",login:"/admin/login",edit:"/admin/edit/",view:"forms/:code/view",tourGuide:"/admin/tour-guides",company:"/admin/companies",language:"/admin/languages",formFieldGroup:"/admin/group-questions",reports:"/admin/reports"},Z=()=>{const e=O();return r.jsx(r.Fragment,{children:r.jsx(P,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:r.jsx(A,{type:"primary",onClick:()=>e(k.home),children:"Back Home"})})})},ee=()=>{const e=O(),t=B();return r.jsx(r.Fragment,{children:r.jsx(P,{status:"500",title:"500",subTitle:(t==null?void 0:t.message)??"Sorry, something went wrong.",extra:r.jsx(A,{type:"primary",onClick:()=>e(k.home),children:"Back Home"})})})},l={info:"info",token:"token",rights:"rights",urlApi:"https://api.anymos.site/api/v1.0"},te=JSON.parse(localStorage.getItem("rights")||"[]"),T=K(te),j=e=>{T.update(e)},ir=(e,t)=>T.can(e,t),re={token:localStorage.getItem(l.token),info:JSON.parse(localStorage.getItem(l.info)||"{}"),rights:JSON.parse(localStorage.getItem(l.rights)||"[]")},w=h.createContext(void 0),oe=(e,t)=>{switch(t.type){case"LOGIN":const{token:s,info:g,rights:n}=t.payload;return localStorage.setItem(l.token,s),localStorage.setItem(l.info,JSON.stringify(g)),localStorage.setItem(l.rights,JSON.stringify(n)),j(n),{info:g,token:s,rights:n};case"UPDATE":const{info:a,rights:i}=t.payload;return localStorage.setItem(l.info,JSON.stringify(a)),localStorage.setItem(l.rights,JSON.stringify(i)),j(i),{...e,info:a,rights:i};case"LOGOUT":return localStorage.removeItem(l.token),localStorage.removeItem(l.info),localStorage.removeItem(l.rights),{info:void 0,token:void 0,rights:[]};default:return e}},se=({children:e})=>{const[t,s]=h.useReducer(oe,re);return r.jsx(w.Provider,{value:{state:t,dispatch:s},children:e})},b=()=>{const e=h.useContext(w);if(!e)throw new Error("useAuth must be used inside AuthProvider");return e};function ne(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function ie(e){if(!e)return"";const t=e.split("@")[0];return t||""}const ae=()=>{var t;const{state:e}=b();return r.jsx(H,{children:r.jsxs(J.Title,{level:5,children:["Hi! ",ne(ie((t=e.info)==null?void 0:t.email)),", Welcome back."]})})},ce=c.lazy(()=>d(()=>import("./Main-CUbkIH-T.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52]))),le=c.lazy(()=>d(()=>import("./login-B6QhkvXV.js"),__vite__mapDeps([53,1,2,8,9,10,17,12,13,4,5,11,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,6,7,3,45,46,47,48,49,50,51,52]))),de=c.lazy(()=>d(()=>import("./index-Dpfwa3qk.js"),__vite__mapDeps([54,1,2,51,52,3,4,5,6,7,55,56,57,9,10,17,12,13,11,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50]))),ue=c.lazy(()=>d(()=>import("./create-B5byDrZY.js"),__vite__mapDeps([58,1,2,51,52,55,57,9,10,59,17,12,13,4,5,11,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,6,7,3,45,46,47,48,49,50]))),me=c.lazy(()=>d(()=>import("./edit-BDHJPGQ1.js"),__vite__mapDeps([60,1,2,51,52,55,57,9,59,17,12,13,4,5,11,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,10,6,7,3,45,46,47,48,49,50]))),pe=c.lazy(()=>d(()=>import("./view-CCOn1_FB.js"),__vite__mapDeps([61,1,2,57,9,10,6,7,17,12,13,4,5,11,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,3,45,46,47,48,49,50,51,52]))),fe=c.lazy(()=>d(()=>import("./index-ChyjMcSp.js"),__vite__mapDeps([62,1,2,3,4,5,6,7,56,10,17,12,13,11,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,9,51,52]))),ge=c.lazy(()=>d(()=>import("./permission-IQAz0Y-q.js"),__vite__mapDeps([63,1,2,9,10,6,7,17,12,13,4,5,11,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,3,45,46,47,48,49,50,51,52]))),he=c.lazy(()=>d(()=>import("./index-4kS9Z6Ga.js"),__vite__mapDeps([64,1,2,3,4,5,6,7,56,65,9,10,17,12,13,11,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52]))),ye=c.lazy(()=>d(()=>import("./events-Ba13Sv94.js"),__vite__mapDeps([66,1,2,3,4,5,6,7,56,9,10,51,52,55,65,17,12,13,11,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50]))),_e=c.lazy(()=>d(()=>import("./index-BerN9U8c.js"),__vite__mapDeps([67,1,2,3,4,5,6,7,56,10,17,12,13,11,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,9,51,52]))),ve=c.lazy(()=>d(()=>import("./index-B8-LDGyk.js"),__vite__mapDeps([68,1,2,3,4,5,6,7,56,10,17,12,13,11,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,9,51,52]))),xe=({children:e})=>{const{state:t}=b();return t.token||localStorage.getItem("token")?r.jsx(r.Fragment,{children:e}):r.jsx(G,{to:"login",replace:!0})},Ee=z([{path:"/",element:r.jsx(xe,{children:r.jsx(ce,{})}),errorElement:r.jsx(ee,{}),children:[{index:!0,element:r.jsx(ae,{})},{path:"/users",element:r.jsx(de,{})},{path:"/users/create",element:r.jsx(ue,{})},{path:"/users/:id/edit",element:r.jsx(me,{})},{path:"/users/:id/view",element:r.jsx(pe,{})},{path:"/roles",element:r.jsx(fe,{})},{path:"/roles/:id/permissions",element:r.jsx(ge,{})},{path:"/bookings",element:r.jsx(he,{})},{path:"/bookings/:id/events",element:r.jsx(ye,{})},{path:"/drivers",element:r.jsx(_e,{})},{path:"/vehicles",element:r.jsx(ve,{})}]},{path:"/login",element:r.jsx(le,{})},{path:"*",element:r.jsx(Z,{})}]);let Se,$e;const je=()=>{const e=L.useApp();return e.message,Se=e.notification,$e=e.modal,null},Ie="FETCH_USER",Re="LOGIN",Oe="LOGOUT",x={FETCH_USER:Ie,LOGIN:Re,LOGOUT:Oe},C={user:null,isUserLoaded:!1},Pe=(e,t)=>{switch(t.type){case x.FETCH_USER:return{...e,isUserLoaded:!0,user:t.payload.user};case x.LOGIN:return localStorage.setItem("token",t.payload.token),{...e,isUserLoaded:!1};case x.LOGOUT:return localStorage.removeItem("token"),{...e,user:null};default:throw new Error("Invalid global action.")}},Ae={state:C},Le=h.createContext(Ae),ke=({children:e})=>{const[t,s]=h.useReducer(Pe,C);return r.jsx(Le.Provider,{value:{state:t,dispatch:s},children:e})};o.defaults.baseURL=l.urlApi;function Te(e){o.defaults.headers.common=o.defaults.headers.common||{},o.defaults.headers.common.Authorization="Bearer "+e}const I=localStorage.getItem(l.token);I&&Te(I);o.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)});o.interceptors.response.use(e=>e,e=>{var t;return Promise.reject(((t=e.response)==null?void 0:t.data)||{})});const f="roles",we=e=>o.get(`${f}/${e}`),be=e=>o.get(`${f}`,{params:e}),Ce=e=>o.post(`${f}`,e),De=(e,t)=>o.put(`${f}/${e}`,t),Ue=e=>o.delete(`${f}/${e}`),Ve=e=>o.get(`${f}/permissions/${e}`),Ne=(e,t)=>o.put(`${f}/permissions/${e}`,t),ze={get:we,gets:be,create:Ce,update:De,destroy:Ue,permissions:Ve,syncPermissions:Ne},Fe=E("storeRole/fetchData",async e=>(await ze.gets(e)).data),Be=S({name:"storeRole",initialState:{data:[]},reducers:{},extraReducers:e=>{e.addCase(Fe.fulfilled,(t,s)=>{t.data=s.payload.data})}}),Ge=Be.reducer,y="drivers",He=e=>o.get(`${y}/${e}`),Je=e=>o.get(`${y}`,{params:e}),qe=e=>o.post(`${y}`,e),We=(e,t)=>o.put(`${y}/${e}`,t),Ke=e=>o.delete(`${y}/${e}`),Me={get:He,gets:Je,create:qe,update:We,destroy:Ke},Qe=E("storeDriver/fetchData",async e=>(await Me.gets(e)).data),Xe=S({name:"storeDriver",initialState:{data:[]},reducers:{},extraReducers:e=>{e.addCase(Qe.fulfilled,(t,s)=>{t.data=s.payload.data})}}),Ye=Xe.reducer,_="vehicles",Ze=e=>o.get(`${_}/${e}`),et=e=>o.get(`${_}`,{params:e}),tt=e=>o.post(`${_}`,e),rt=(e,t)=>o.put(`${_}/${e}`,t),ot=e=>o.delete(`${_}/${e}`),st={get:Ze,gets:et,create:tt,update:rt,destroy:ot},nt=E("storeVehicle/fetchData",async e=>(await st.gets(e)).data),it=S({name:"storeVehicle",initialState:{data:[]},reducers:{},extraReducers:e=>{e.addCase(nt.fulfilled,(t,s)=>{t.data=s.payload.data})}}),at=it.reducer,ct=M({reducer:{storeRole:Ge,storeDriver:Ye,storeVehicle:at},middleware:e=>e({serializableCheck:!1})});function lt(){const e={token:{colorPrimary:"#154e84",colorError:"#be0f11",colorSuccess:"#0a7d2d",colorWarning:"#e0990c",colorInfo:"#0754be"},components:{Timeline:{tailColor:"darkgray"}},hashed:!1};return r.jsx(Q,{store:ct,children:r.jsx(q,{theme:e,children:r.jsxs(L,{children:[r.jsx(je,{}),r.jsx(ke,{children:r.jsx(se,{children:r.jsx(h.Suspense,{fallback:r.jsx("div",{style:{padding:100,textAlign:"center"},children:r.jsx(W,{size:"large"})}),children:r.jsx(F,{router:Ee})})})})]})})})}const R=c.createElement;c.createElement=function(e,t,...s){return e==="img"&&t&&!t.crossOrigin?R(e,{...t,crossOrigin:"anonymous"},...s):R(e,t,...s)};N.createRoot(document.getElementById("root")).render(r.jsx(lt,{}));export{T as a,ir as b,ne as c,Qe as d,ie as e,Fe as f,nt as g,st as h,$e as i,Me as m,Se as n,ze as r,Te as s,b as u};
